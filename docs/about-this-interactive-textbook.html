<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Learning from the narrative and model in NASEM (2021) 'Nutrient Requirements of Dairy Cattle'</title>
  <meta name="description" content="This book is intended to help independent learners, students, and instructors interacting with the NASEM (2021) dairy nutrition model, especially in undergraduate courses." />
  <meta name="generator" content="bookdown 0.33.2 and GitBook 2.6.7" />

  <meta property="og:title" content="Learning from the narrative and model in NASEM (2021) 'Nutrient Requirements of Dairy Cattle'" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This book is intended to help independent learners, students, and instructors interacting with the NASEM (2021) dairy nutrition model, especially in undergraduate courses." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Learning from the narrative and model in NASEM (2021) 'Nutrient Requirements of Dairy Cattle'" />
  
  <meta name="twitter:description" content="This book is intended to help independent learners, students, and instructors interacting with the NASEM (2021) dairy nutrition model, especially in undergraduate courses." />
  

<meta name="author" content="MaryGrace Erickson, University of Wisconsin--Madison" />
<meta name="author" content="Michel A. Wattiaux, University of Wisconsin--Madison" />
<meta name="author" content="Mark D. Hanigan, Virginia Polytechnic Institute and State University" />
<meta name="author" content="Marina A.C. Danes, Universidade Federal de Lavras" />


<meta name="date" content="2023-05-15" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  

<link rel="next" href="systems-concepts.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<script>
  function unrolltab(evt, tabName) {
    var i, tabcontent, tablinks;
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
      tabcontent[i].style.display = "none";
    }
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
      tablinks[i].className = tablinks[i].className.replace(" active", "");
    }
    document.getElementById(tabName).style.display = "none";
    evt.currentTarget.className += "none";
  }
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
<link rel="stylesheet" href="www/webex.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Learning NASEM Dairy (2021)</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="about-this-interactive-textbook.html"><a href="about-this-interactive-textbook.html"><i class="fa fa-check"></i><b>1</b> About this interactive textbook</a>
<ul>
<li class="chapter" data-level="1.1" data-path="about-this-interactive-textbook.html"><a href="about-this-interactive-textbook.html#overview"><i class="fa fa-check"></i><b>1.1</b> Overview</a></li>
<li class="chapter" data-level="1.2" data-path="about-this-interactive-textbook.html"><a href="about-this-interactive-textbook.html#information-for-educators"><i class="fa fa-check"></i><b>1.2</b> Information for educators</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="about-this-interactive-textbook.html"><a href="about-this-interactive-textbook.html#intended-audience"><i class="fa fa-check"></i><b>1.2.1</b> Intended audience</a></li>
<li class="chapter" data-level="1.2.2" data-path="about-this-interactive-textbook.html"><a href="about-this-interactive-textbook.html#assumptions-about-prior-knowledge"><i class="fa fa-check"></i><b>1.2.2</b> Assumptions about prior knowledge</a></li>
<li class="chapter" data-level="1.2.3" data-path="about-this-interactive-textbook.html"><a href="about-this-interactive-textbook.html#technology-requirements"><i class="fa fa-check"></i><b>1.2.3</b> Technology requirements</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="about-this-interactive-textbook.html"><a href="about-this-interactive-textbook.html#nasem-components"><i class="fa fa-check"></i><b>1.3</b> NASEM Components</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="about-this-interactive-textbook.html"><a href="about-this-interactive-textbook.html#accessing-the-nasem-2021-book"><i class="fa fa-check"></i><b>1.3.1</b> Accessing the NASEM (2021) book</a></li>
<li class="chapter" data-level="1.3.2" data-path="about-this-interactive-textbook.html"><a href="about-this-interactive-textbook.html#accessing-nasem-dairy-8-software"><i class="fa fa-check"></i><b>1.3.2</b> Accessing NASEM-dairy-8 software</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="about-this-interactive-textbook.html"><a href="about-this-interactive-textbook.html#examples"><i class="fa fa-check"></i><b>1.4</b> Examples</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="about-this-interactive-textbook.html"><a href="about-this-interactive-textbook.html#nasem-dairy-8"><i class="fa fa-check"></i><b>1.4.1</b> NASEM dairy-8</a></li>
<li class="chapter" data-level="1.4.2" data-path="about-this-interactive-textbook.html"><a href="about-this-interactive-textbook.html#r"><i class="fa fa-check"></i><b>1.4.2</b> R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="systems-concepts.html"><a href="systems-concepts.html"><i class="fa fa-check"></i><b>2</b> Systems concepts</a>
<ul>
<li class="chapter" data-level="2.1" data-path="systems-concepts.html"><a href="systems-concepts.html#the-animal-nutritional-system"><i class="fa fa-check"></i><b>2.1</b> The animal nutritional system</a></li>
<li class="chapter" data-level="2.2" data-path="systems-concepts.html"><a href="systems-concepts.html#ways-of-understanding-nutritional-systems"><i class="fa fa-check"></i><b>2.2</b> Ways of understanding nutritional systems</a></li>
<li class="chapter" data-level="2.3" data-path="systems-concepts.html"><a href="systems-concepts.html#systems-concepts-1"><i class="fa fa-check"></i><b>2.3</b> Systems concepts</a></li>
<li class="chapter" data-level="2.4" data-path="systems-concepts.html"><a href="systems-concepts.html#single-animal-nutritional-system"><i class="fa fa-check"></i><b>2.4</b> Single-animal nutritional system</a></li>
<li class="chapter" data-level="2.5" data-path="systems-concepts.html"><a href="systems-concepts.html#physicalchemical-principles-mass-energy-balance"><i class="fa fa-check"></i><b>2.5</b> Physical/chemical principles: Mass &amp; energy balance</a></li>
<li class="chapter" data-level="2.6" data-path="systems-concepts.html"><a href="systems-concepts.html#biological-principles-ordered-processes"><i class="fa fa-check"></i><b>2.6</b> Biological principles: ordered processes</a></li>
<li class="chapter" data-level="2.7" data-path="systems-concepts.html"><a href="systems-concepts.html#biological-principles-context-dependence"><i class="fa fa-check"></i><b>2.7</b> Biological principles: context-dependence</a></li>
<li class="chapter" data-level="2.8" data-path="systems-concepts.html"><a href="systems-concepts.html#conclusions"><i class="fa fa-check"></i><b>2.8</b> Conclusions</a></li>
<li class="chapter" data-level="2.9" data-path="systems-concepts.html"><a href="systems-concepts.html#questions"><i class="fa fa-check"></i><b>2.9</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="requirements.html"><a href="requirements.html"><i class="fa fa-check"></i><b>3</b> Requirements</a>
<ul>
<li class="chapter" data-level="3.1" data-path="requirements.html"><a href="requirements.html#defining-nutrient-flows"><i class="fa fa-check"></i><b>3.1</b> Defining nutrient flows</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="requirements.html"><a href="requirements.html#supplies-requirements-and-balances"><i class="fa fa-check"></i><b>3.1.1</b> Supplies, requirements, and balances</a></li>
<li class="chapter" data-level="3.1.2" data-path="requirements.html"><a href="requirements.html#requirement-definitions-in-human-and-dairy-nutrition"><i class="fa fa-check"></i><b>3.1.2</b> Requirement definitions in human and dairy nutrition</a></li>
<li class="chapter" data-level="3.1.3" data-path="requirements.html"><a href="requirements.html#absorbed-and-metabolizable-amounts"><i class="fa fa-check"></i><b>3.1.3</b> Absorbed and metabolizable amounts</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="requirements.html"><a href="requirements.html#dietary-reference-intakes"><i class="fa fa-check"></i><b>3.2</b> Dietary reference intakes</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="requirements.html"><a href="requirements.html#protecting-against-underfeeding-with-safety-factors"><i class="fa fa-check"></i><b>3.2.1</b> Protecting against underfeeding with "safety factors"</a></li>
<li class="chapter" data-level="3.2.2" data-path="requirements.html"><a href="requirements.html#protecting-against-overfeeding"><i class="fa fa-check"></i><b>3.2.2</b> Protecting against overfeeding</a></li>
<li class="chapter" data-level="3.2.3" data-path="requirements.html"><a href="requirements.html#accounting-for-uncertainty"><i class="fa fa-check"></i><b>3.2.3</b> Accounting for uncertainty</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="requirements.html"><a href="requirements.html#nasem-estimates-of-requirements"><i class="fa fa-check"></i><b>3.3</b> NASEM estimates of requirements</a></li>
<li class="chapter" data-level="3.4" data-path="requirements.html"><a href="requirements.html#types-of-literature-used-by-nasem-2021"><i class="fa fa-check"></i><b>3.4</b> Types of literature used by NASEM (2021)</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="requirements.html"><a href="requirements.html#measuring-composition-of-inputs-body-tissues-and-outputs"><i class="fa fa-check"></i><b>3.4.1</b> Measuring composition of inputs, body tissues, and outputs</a></li>
<li class="chapter" data-level="3.4.2" data-path="requirements.html"><a href="requirements.html#measuring-losses-when-intake-is-minimal"><i class="fa fa-check"></i><b>3.4.2</b> Measuring losses when intake is minimal</a></li>
<li class="chapter" data-level="3.4.3" data-path="requirements.html"><a href="requirements.html#studying-symptoms-of-deficiency-and-toxicity"><i class="fa fa-check"></i><b>3.4.3</b> Studying symptoms of deficiency and toxicity</a></li>
<li class="chapter" data-level="3.4.4" data-path="requirements.html"><a href="requirements.html#regression-on-productive-performance"><i class="fa fa-check"></i><b>3.4.4</b> Regression on productive performance</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="requirements.html"><a href="requirements.html#questions-1"><i class="fa fa-check"></i><b>3.5</b> Questions</a></li>
<li class="chapter" data-level="3.6" data-path="requirements.html"><a href="requirements.html#r-code-for-figures"><i class="fa fa-check"></i><b>3.6</b> R code for figures</a></li>
<li class="chapter" data-level="3.7" data-path="requirements.html"><a href="requirements.html#references"><i class="fa fa-check"></i><b>3.7</b> References</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="model-machinery.html"><a href="model-machinery.html"><i class="fa fa-check"></i><b>4</b> Model machinery</a>
<ul>
<li class="chapter" data-level="4.1" data-path="model-machinery.html"><a href="model-machinery.html#basic-nutrition-math"><i class="fa fa-check"></i><b>4.1</b> Basic nutrition math</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="model-machinery.html"><a href="model-machinery.html#using-ratios-percentages-proportions"><i class="fa fa-check"></i><b>4.1.1</b> Using ratios, percentages, proportions</a></li>
<li class="chapter" data-level="4.1.2" data-path="model-machinery.html"><a href="model-machinery.html#converting-units"><i class="fa fa-check"></i><b>4.1.2</b> Converting units</a></li>
<li class="chapter" data-level="4.1.3" data-path="model-machinery.html"><a href="model-machinery.html#converting-basis"><i class="fa fa-check"></i><b>4.1.3</b> Converting basis</a></li>
<li class="chapter" data-level="4.1.4" data-path="model-machinery.html"><a href="model-machinery.html#scaling"><i class="fa fa-check"></i><b>4.1.4</b> Scaling</a></li>
<li class="chapter" data-level="4.1.5" data-path="model-machinery.html"><a href="model-machinery.html#weighting"><i class="fa fa-check"></i><b>4.1.5</b> Weighting</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="model-machinery.html"><a href="model-machinery.html#predictive-models"><i class="fa fa-check"></i><b>4.2</b> Predictive models</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="model-machinery.html"><a href="model-machinery.html#predictive-model-descriptors"><i class="fa fa-check"></i><b>4.2.1</b> Predictive model descriptors</a></li>
<li class="chapter" data-level="4.2.2" data-path="model-machinery.html"><a href="model-machinery.html#simple-linear-model-empirical-input-output"><i class="fa fa-check"></i><b>4.2.2</b> Simple linear model (empirical, input-output)</a></li>
<li class="chapter" data-level="4.2.3" data-path="model-machinery.html"><a href="model-machinery.html#exponential-growth-kinetic-model-theoretical-mechanistic"><i class="fa fa-check"></i><b>4.2.3</b> Exponential growth kinetic model (theoretical, mechanistic)</a></li>
<li class="chapter" data-level="4.2.4" data-path="model-machinery.html"><a href="model-machinery.html#saturable-growth-kinetics-theoretical-mechanistic"><i class="fa fa-check"></i><b>4.2.4</b> Saturable growth kinetics (theoretical, mechanistic)</a></li>
<li class="chapter" data-level="4.2.5" data-path="model-machinery.html"><a href="model-machinery.html#dmi-prediction-in-nasem"><i class="fa fa-check"></i><b>4.2.5</b> DMI prediction in NASEM</a></li>
<li class="chapter" data-level="4.2.6" data-path="model-machinery.html"><a href="model-machinery.html#prediction-using-software"><i class="fa fa-check"></i><b>4.2.6</b> Prediction using software</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="model-machinery.html"><a href="model-machinery.html#optimization"><i class="fa fa-check"></i><b>4.3</b> Optimization</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="model-machinery.html"><a href="model-machinery.html#optimization-using-software"><i class="fa fa-check"></i><b>4.3.1</b> Optimization using software</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="model-machinery.html"><a href="model-machinery.html#other-important-concepts"><i class="fa fa-check"></i><b>4.4</b> Other important concepts</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="model-machinery.html"><a href="model-machinery.html#allometric-equations"><i class="fa fa-check"></i><b>4.4.1</b> Allometric equations</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="model-machinery.html"><a href="model-machinery.html#conclusions-1"><i class="fa fa-check"></i><b>4.5</b> Conclusions</a></li>
<li class="chapter" data-level="4.6" data-path="model-machinery.html"><a href="model-machinery.html#questions-2"><i class="fa fa-check"></i><b>4.6</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="protein-overview.html"><a href="protein-overview.html"><i class="fa fa-check"></i><b>5</b> Protein Overview</a>
<ul>
<li class="chapter" data-level="5.1" data-path="protein-overview.html"><a href="protein-overview.html#biological-definition-of-protein"><i class="fa fa-check"></i><b>5.1</b> Biological definition of protein</a></li>
<li class="chapter" data-level="5.2" data-path="protein-overview.html"><a href="protein-overview.html#nutritional-definitions-of-protein"><i class="fa fa-check"></i><b>5.2</b> Nutritional definitions of protein</a></li>
<li class="chapter" data-level="5.3" data-path="protein-overview.html"><a href="protein-overview.html#goals-of-dairy-protein-nutrition"><i class="fa fa-check"></i><b>5.3</b> Goals of dairy protein nutrition</a></li>
<li class="chapter" data-level="5.4" data-path="protein-overview.html"><a href="protein-overview.html#the-animal-protein-system"><i class="fa fa-check"></i><b>5.4</b> The animal protein system</a></li>
<li class="chapter" data-level="5.5" data-path="protein-overview.html"><a href="protein-overview.html#amino-acids"><i class="fa fa-check"></i><b>5.5</b> Amino acids</a></li>
<li class="chapter" data-level="5.6" data-path="protein-overview.html"><a href="protein-overview.html#references-1"><i class="fa fa-check"></i><b>5.6</b> References</a></li>
<li class="chapter" data-level="5.7" data-path="protein-overview.html"><a href="protein-overview.html#questions-3"><i class="fa fa-check"></i><b>5.7</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="protein-intake-and-ruminal-supplies.html"><a href="protein-intake-and-ruminal-supplies.html"><i class="fa fa-check"></i><b>6</b> Protein intake and ruminal supplies</a>
<ul>
<li class="chapter" data-level="6.1" data-path="protein-intake-and-ruminal-supplies.html"><a href="protein-intake-and-ruminal-supplies.html#cp-intake"><i class="fa fa-check"></i><b>6.1</b> CP intake</a></li>
<li class="chapter" data-level="6.2" data-path="protein-intake-and-ruminal-supplies.html"><a href="protein-intake-and-ruminal-supplies.html#ruminal-protein-supplies"><i class="fa fa-check"></i><b>6.2</b> Ruminal protein supplies</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="protein-intake-and-ruminal-supplies.html"><a href="protein-intake-and-ruminal-supplies.html#rdp-and-rup"><i class="fa fa-check"></i><b>6.2.1</b> RDP and RUP</a></li>
<li class="chapter" data-level="6.2.2" data-path="protein-intake-and-ruminal-supplies.html"><a href="protein-intake-and-ruminal-supplies.html#calculating-rdp-and-rup"><i class="fa fa-check"></i><b>6.2.2</b> Calculating RDP and RUP</a></li>
<li class="chapter" data-level="6.2.3" data-path="protein-intake-and-ruminal-supplies.html"><a href="protein-intake-and-ruminal-supplies.html#microbial-protein-synthesis"><i class="fa fa-check"></i><b>6.2.3</b> Microbial protein synthesis</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="protein-intake-and-ruminal-supplies.html"><a href="protein-intake-and-ruminal-supplies.html#examples-1"><i class="fa fa-check"></i><b>6.3</b> Examples</a></li>
<li class="chapter" data-level="6.4" data-path="protein-intake-and-ruminal-supplies.html"><a href="protein-intake-and-ruminal-supplies.html#questions-4"><i class="fa fa-check"></i><b>6.4</b> Questions</a></li>
<li class="chapter" data-level="6.5" data-path="protein-intake-and-ruminal-supplies.html"><a href="protein-intake-and-ruminal-supplies.html#r-code-for-figures-needs-update"><i class="fa fa-check"></i><b>6.5</b> R code for figures ### NEEDS UPDATE</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="protein-postruminal-supplies.html"><a href="protein-postruminal-supplies.html"><i class="fa fa-check"></i><b>7</b> Protein postruminal supplies</a>
<ul>
<li class="chapter" data-level="7.1" data-path="protein-postruminal-supplies.html"><a href="protein-postruminal-supplies.html#digestion-of-microbial-tp"><i class="fa fa-check"></i><b>7.1</b> Digestion of microbial TP</a></li>
<li class="chapter" data-level="7.2" data-path="protein-postruminal-supplies.html"><a href="protein-postruminal-supplies.html#digestion-of-rup"><i class="fa fa-check"></i><b>7.2</b> Digestion of RUP</a></li>
<li class="chapter" data-level="7.3" data-path="protein-postruminal-supplies.html"><a href="protein-postruminal-supplies.html#metabolizable-protein"><i class="fa fa-check"></i><b>7.3</b> Metabolizable protein</a></li>
<li class="chapter" data-level="7.4" data-path="protein-postruminal-supplies.html"><a href="protein-postruminal-supplies.html#aa-basis"><i class="fa fa-check"></i><b>7.4</b> AA basis</a></li>
<li class="chapter" data-level="7.5" data-path="protein-postruminal-supplies.html"><a href="protein-postruminal-supplies.html#aa-in-microbial-protein"><i class="fa fa-check"></i><b>7.5</b> AA in microbial protein</a></li>
<li class="chapter" data-level="7.6" data-path="protein-postruminal-supplies.html"><a href="protein-postruminal-supplies.html#aa-in-rup"><i class="fa fa-check"></i><b>7.6</b> AA in RUP</a></li>
<li class="chapter" data-level="7.7" data-path="protein-postruminal-supplies.html"><a href="protein-postruminal-supplies.html#examples-2"><i class="fa fa-check"></i><b>7.7</b> Examples</a></li>
<li class="chapter" data-level="7.8" data-path="protein-postruminal-supplies.html"><a href="protein-postruminal-supplies.html#questions-5"><i class="fa fa-check"></i><b>7.8</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="protein-use-and-recommended-supplies.html"><a href="protein-use-and-recommended-supplies.html"><i class="fa fa-check"></i><b>8</b> Protein use and recommended supplies</a>
<ul>
<li class="chapter" data-level="8.1" data-path="protein-use-and-recommended-supplies.html"><a href="protein-use-and-recommended-supplies.html#scurf"><i class="fa fa-check"></i><b>8.1</b> Scurf</a></li>
<li class="chapter" data-level="8.2" data-path="protein-use-and-recommended-supplies.html"><a href="protein-use-and-recommended-supplies.html#endogenous-urinary-protein"><i class="fa fa-check"></i><b>8.2</b> Endogenous urinary protein</a></li>
<li class="chapter" data-level="8.3" data-path="protein-use-and-recommended-supplies.html"><a href="protein-use-and-recommended-supplies.html#metabolic-fecal-protein"><i class="fa fa-check"></i><b>8.3</b> Metabolic fecal protein</a></li>
<li class="chapter" data-level="8.4" data-path="protein-use-and-recommended-supplies.html"><a href="protein-use-and-recommended-supplies.html#milk-protein"><i class="fa fa-check"></i><b>8.4</b> Milk protein</a></li>
<li class="chapter" data-level="8.5" data-path="protein-use-and-recommended-supplies.html"><a href="protein-use-and-recommended-supplies.html#gestation-protein"><i class="fa fa-check"></i><b>8.5</b> Gestation protein</a></li>
<li class="chapter" data-level="8.6" data-path="protein-use-and-recommended-supplies.html"><a href="protein-use-and-recommended-supplies.html#growth"><i class="fa fa-check"></i><b>8.6</b> Growth</a></li>
<li class="chapter" data-level="8.7" data-path="protein-use-and-recommended-supplies.html"><a href="protein-use-and-recommended-supplies.html#total-np-use"><i class="fa fa-check"></i><b>8.7</b> Total NP use</a></li>
<li class="chapter" data-level="8.8" data-path="protein-use-and-recommended-supplies.html"><a href="protein-use-and-recommended-supplies.html#aa-basis-1"><i class="fa fa-check"></i><b>8.8</b> AA basis</a></li>
<li class="chapter" data-level="8.9" data-path="protein-use-and-recommended-supplies.html"><a href="protein-use-and-recommended-supplies.html#recommendations"><i class="fa fa-check"></i><b>8.9</b> Recommendations</a></li>
<li class="chapter" data-level="8.10" data-path="protein-use-and-recommended-supplies.html"><a href="protein-use-and-recommended-supplies.html#examples-3"><i class="fa fa-check"></i><b>8.10</b> Examples</a></li>
<li class="chapter" data-level="8.11" data-path="protein-use-and-recommended-supplies.html"><a href="protein-use-and-recommended-supplies.html#questions-6"><i class="fa fa-check"></i><b>8.11</b> Questions</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="glossary.html"><a href="glossary.html"><i class="fa fa-check"></i><b>9</b> Glossary</a></li>
<li class="divider"></li>
<b> Contributors:</b>
<li><a href="https://merickson3.github.io" target="blank">MaryGrace Erickson</a></li>
<li><a href="https://andysci.wisc.edu/directory/michel-wattiaux/" target="blank">Michel A. Wattiaux</a></li>
<li><a href="https://www.dasc.vt.edu/people/faculty/hanigan.html" target="blank">Mark D. Hanigan</a></li>
<li><a href="https://www.marinadanes.com" target="blank">Marina A.C. Danes </a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Learning from the narrative and model in NASEM (2021) 'Nutrient Requirements of Dairy Cattle'</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">Learning from the narrative and model in NASEM (2021) 'Nutrient Requirements of Dairy Cattle'</h1>
<p class="author"><em>MaryGrace Erickson, University of Wisconsin--Madison</em></p>
<p class="author"><em>Michel A. Wattiaux, University of Wisconsin--Madison</em></p>
<p class="author"><em>Mark D. Hanigan, Virginia Polytechnic Institute and State University</em></p>
<p class="author"><em>Marina A.C. Danes, Universidade Federal de Lavras</em></p>
<p class="date"><em>2023-05-15</em></p>
</div>
<div id="about-this-interactive-textbook" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">Chapter 1</span> About this interactive textbook<a href="about-this-interactive-textbook.html#about-this-interactive-textbook" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-2"></span>
<img src="images/nasem_book.jpg" alt="Cover of 'Nutrient Requirements of Dairy Cattle, 8th edition'" width="2000" />
<p class="caption">
Figure 1.1: Cover of 'Nutrient Requirements of Dairy Cattle, 8th edition'
</p>
</div>
<div id="overview" class="section level2 hasAnchor" number="1.1">
<h2><span class="header-section-number">1.1</span> Overview<a href="about-this-interactive-textbook.html#overview" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The NASEM (2021) "Nutrient Requirements of Dairy Cattle" consensus report is a distillation of our collective knowledge about dairy cattle nutrition in the U.S. in the form of written text and mathematical equations. The most recent edition (8th), hereafter referred to as NASEM (2021), includes two parts. First, a 502 page consensus report book describes advancements in the dairy nutrition literature in recent decades in the form of narrative text and prediction equations. Second, a software for Windows enables users to evaluate diet adequacy for a given scenario based on the equations explained in the book.</p>
<p>Our interactive textbook and its accompanying resources for teachers are intended to promote learning from the NASEM (2021) materials. Because the NASEM (2021) narrative and software were designed for advanced dairy nutrition practitioners, they may be difficult for less-experienced learners. Our interactive textbook is designed to highlight core concepts that will assist learners in understanding the NASEM narrative and utilizing the mathematical model in practice.</p>
<div class="lo">
<p><strong>Learning Objectives of this interactive textbook</strong></p>
<ol style="list-style-type: decimal">
<li>Raise learners' knowledge and confidence working with nutritional models, using the example of the NASEM (2021) "Nutrient Requirements of Dairy Cattle"</li>
</ol>
</div>
</div>
<div id="information-for-educators" class="section level2 hasAnchor" number="1.2">
<h2><span class="header-section-number">1.2</span> Information for educators<a href="about-this-interactive-textbook.html#information-for-educators" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="intended-audience" class="section level3 hasAnchor" number="1.2.1">
<h3><span class="header-section-number">1.2.1</span> Intended audience<a href="about-this-interactive-textbook.html#intended-audience" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This interactive textbook is for anyone interested in learning about nutritional science and nutritional modeling. Although is discusses a dairy cattle nutritional model, it is NOT designed solely for dairy-interested learners. As the "Requirements" chapter illustrates, there is substantial overlap in how scientists describe nutritional processes for humans and other animal species. Throughout the textbook, we emphasized critical thinking about nutritional science rather than memorization of any particular dairy cattle nutrition facts. Therefore, we hope this interactive textbook will be interesting and relevant for learners regardless of their interest in dairy cattle.</p>
</div>
<div id="assumptions-about-prior-knowledge" class="section level3 hasAnchor" number="1.2.2">
<h3><span class="header-section-number">1.2.2</span> Assumptions about prior knowledge<a href="about-this-interactive-textbook.html#assumptions-about-prior-knowledge" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This textbook can be used by anyone, but it has been designed with the assumption that learners have some prior knowledge. Before starting this material, we suggest that learners should have:</p>
<ul>
<li><p>Intermediate understanding of nutritional physiology of ruminants, e.g., have taken an animal nutrition course</p></li>
<li><p>Intermediate knowledge of dairy production systems, e.g., through an introductory animal science or management-focused course, or through personal/career-related experiences</p></li>
<li><p>Basic skills with statistics and math (mean, standard deviation, regression)</p></li>
</ul>
</div>
<div id="technology-requirements" class="section level3 hasAnchor" number="1.2.3">
<h3><span class="header-section-number">1.2.3</span> Technology requirements<a href="about-this-interactive-textbook.html#technology-requirements" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>To read the narrative and complete activities, need a computer and stable internet connection</li>
<li>To run NASEM-8 software, need Windows operating system</li>
</ul>
</div>
</div>
<div id="nasem-components" class="section level2 hasAnchor" number="1.3">
<h2><span class="header-section-number">1.3</span> NASEM Components<a href="about-this-interactive-textbook.html#nasem-components" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-3"></span>
<img src="images/NASEM_components.png" alt="Components of 'Nutrient Requirements of Dairy Cattle, 8th edition.' The consensus report book includes (A) narrative text reviewing scientific literature used in creating the model, (B) Feed Tables with ingredient composition data. The book was also released with (C) Windows software." width="100%" />
<p class="caption">
Figure 1.2: Components of 'Nutrient Requirements of Dairy Cattle, 8th edition.' The consensus report book includes (A) narrative text reviewing scientific literature used in creating the model, (B) Feed Tables with ingredient composition data. The book was also released with (C) Windows software.
</p>
</div>
<div id="accessing-the-nasem-2021-book" class="section level3 hasAnchor" number="1.3.1">
<h3><span class="header-section-number">1.3.1</span> Accessing the NASEM (2021) book<a href="about-this-interactive-textbook.html#accessing-the-nasem-2021-book" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The NASEM (2021) book provides a narrative that summarizes recent scientific literature on dairy nutrition and justifies choices made while developing the mathematical model. The narrative is rich with information on nutritional physiology, dairy herd management, dairy nutrition experimentation, and the model development process. Due to its information density and use of technical language, it may be overwhelming to read for less-experienced practitioners. For this reason, learners may find it helpful to read the NASEM (2021) book in a class or small-group setting where it is possible to ask questions and verify their understanding.</p>
<p>Instructors and learners can work together to determine which sections of the text are appropriate to the learners' current comprehension level. For intermediate learners, it may be best to read this interactive textbook first before spending much time reading the NASEM (2021) narrative. Advanced learners may be able to read through the NASEM (2021) Consensus Report simultaneous to completing the activities in it. In some cases, learners may benefit from approaching the narrative in an informal "Journal Club"-style setting (arranged either by teachers or students!).</p>
<div class="blue">
<p><strong>Accessing NASEM (2021) consensus report</strong></p>
<p>At the time of writing, a print version of the NASEM 8th edition book is available for purchase at the link below. Eventually this material will be available to read for free online.
<a href="https://nap.nationalacademies.org/catalog/25806/nutrient-requirements-of-dairy-cattle-eighth-revised-edition" class="uri">https://nap.nationalacademies.org/catalog/25806/nutrient-requirements-of-dairy-cattle-eighth-revised-edition</a></p>
</div>
<div class="grey">
<p><strong>Earlier editions, e.g., 7th, NRC (2001)</strong></p>
<p>Earlier editions of "Nutrient Requirements for Dairy Cattle" are available to read for free online, for example, the 7th edition (2001):
<a href="https://nap.nationalacademies.org/catalog/9825/nutrient-requirements-of-dairy-cattle-seventh-revised-edition-2001" class="uri">https://nap.nationalacademies.org/catalog/9825/nutrient-requirements-of-dairy-cattle-seventh-revised-edition-2001</a></p>
</div>
</div>
<div id="accessing-nasem-dairy-8-software" class="section level3 hasAnchor" number="1.3.2">
<h3><span class="header-section-number">1.3.2</span> Accessing NASEM-dairy-8 software<a href="about-this-interactive-textbook.html#accessing-nasem-dairy-8-software" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Most of this interactive textbook can be completed without using the NASEM-dairy-8 software. However, learners are encouraged to download and experiment with the NASEM dairy-8 software on their own time. Download instructions are available on the NASEM website.</p>
<p>The NASEM dairy-8 software runs only on Windows operating system. Learners who wish to run NASEM dairy-8 can install it on a personal computer or a campus library computer. Learners with non-Windows operating system may be able to download the NASEM dairy-8 using virtual machines through platforms such as Virtual Box (<a href="https://www.virtualbox.org" class="uri">https://www.virtualbox.org</a>). However, this requires substantial computer expertise and may be inconvenient for everyday use.</p>
<div class="blue">
<p><strong>Accessing NASEM-dairy-8 software</strong></p>
<p>The NASEM-dairy-8 software for Windows is available to download as shown here:
<a href="https://nap.nationalacademies.org/resource/25806/Installation_Instructions_NASEM_Dairy8.pdf" class="uri">https://nap.nationalacademies.org/resource/25806/Installation_Instructions_NASEM_Dairy8.pdf</a></p>
</div>
<div class="grey">
<p><strong>Earlier software, e.g., NASEM-dairy-7 </strong></p>
<p>It is also possible to download the Windows software for NRC (2001), although NASEM recommendeds against having both NRC 2001 and NASEM 2021 software installed on the same computer. <a href="https://nap.nationalacademies.org/catalog/9825/nutrient-requirements-of-dairy-cattle-seventh-revised-edition-2001" class="uri">https://nap.nationalacademies.org/catalog/9825/nutrient-requirements-of-dairy-cattle-seventh-revised-edition-2001</a></p>
</div>
</div>
</div>
<div id="examples" class="section level2 hasAnchor" number="1.4">
<h2><span class="header-section-number">1.4</span> Examples<a href="about-this-interactive-textbook.html#examples" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="nasem-dairy-8" class="section level3 hasAnchor" number="1.4.1">
<h3><span class="header-section-number">1.4.1</span> NASEM dairy-8<a href="about-this-interactive-textbook.html#nasem-dairy-8" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The easiest way to get started running NASEM-8 is to Load a pre-defined simulation.The software comes with several pre-defined simulations for different classes of animals (e.g., "Example Lactating Cow 100 DIM"). Loading a pre-defined simulation pre-loads all of the inputs describing an example animal, management scenario, and diet. This can be helpful to avoid entering unrealistic inputs.</p>
<p>To run NASEM-8, users proceed through four sections:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Inputs.</strong> In the first panel, users must specify the Program Settings. Most commonly, the default settings (Metric, Dry Matter) can be retained. In the second panel of Inputs, "Animal Description/Management" users can provide detail about the animal (e.g., age, breed, days in milk) and the management scenario (e.g., grazing vs. no grazing). Finally, the "Production" panel allows users to specify the expected rates of growth, changes in body reserves, and milk and component production.</p></li>
<li><p><strong>Feeds</strong>. In this section, users can select the feedstuffs that will comprise the ration ("Add Feeds to Ration"). The software is pre-loaded with a default Feed Library, which contains composition information for over 300 feeds commonly used in dairy rations. Ingredients in the feed library can be modified to create custom feeds ("Edit feed components and nutrients"), which users can save to the feed library (Save Feed in Feed Library) for later use. This section defines which feeds are used in the ration, but not the inclusion rates.</p></li>
<li><p><strong>Ration</strong>. Feeds selected in the prior section will appear in the Ration List. To create a ration, users enter either the amount of dry matter (DM) consumed or the feed's percent of total diet DM. The bottom of the screen allows users to specify DMI manually ("Total Intake") or to select from two estimated intakes produced by the NASEM model using the animal characteristics (e.g., milk production, parity, body weight). Using the "Set to 100%" allows users to easily scale diet information to 100%. This can be helpful to correct rounding errors (e.g., to fix ingredient composition that sums to 100.01 or 99.99% of DM). A sidebar shows quick estimates of the diet nutritional value, which makes it easier to tweak the ingredient composition to meet goals.</p></li>
<li><p><strong>Reports</strong>. Finally, users can generate reports detailing the predictions from the NASEM (2021) model. Nine types of reports are available. By selecting "10. All" and "Generate Selected Reports," a Word document is created and opened. Users can look through the Word document to see predicted nutrient supplies and requirements associated with their inputs. It is also possible to generate an excel spreadsheet with the nutrient composition of ingredients. This may be helpful for users who wish to do their own manual calculations.</p></li>
</ol>
<p>Some of the most common mistakes when using NASEM dairy-8 relate to improper inputs. For example, a user could enter a body weight of 7,000 instead of 700 kg in the Animal Description; or create a custom feed with unrealistic nutrient composition. For this reason, it is easiest to use pre-loaded simulations and default Feed Library ingredients in classroom settings. This will prevent many hours of troubleshooting related to improper inputs.</p>
<div class="red">
<p><strong>NOTE</strong>: Even with perfectly-matched inputs, the NASEM software is more up-to-date than the consensus report. For this reason, the outputs may differ slightly when using equations in the book versus the reports generated in the software. More details are given in the next section.</p>
</div>
</div>
<div id="r" class="section level3 hasAnchor" number="1.4.2">
<h3><span class="header-section-number">1.4.2</span> R<a href="about-this-interactive-textbook.html#r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The examples assume that the user has installed R and set the working directory to a relevant folder. However, most examples are designed to be relatively portable and work regardless of the working directory. Additionally, some <code>library()</code> calls are made to load required packages. If this is the first time using a package, the user needs to first install the package (<code>install.packages("packagename")</code>, where packagename is replaced with the enquoted ("") name of the package to be installed).</p>
<p>Many people run R within a developing environment such as Rstudio. Rstudio is available for download across platforms: <a href="https://posit.co/download/rstudio-desktop/" class="uri">https://posit.co/download/rstudio-desktop/</a>. The learnr package provides a nice overview of how to set up R and Rstudio: <a href="https://learnr-examples.shinyapps.io/ex-setup-r/#section-welcome" class="uri">https://learnr-examples.shinyapps.io/ex-setup-r/#section-welcome</a></p>
<p>:::{.orange}</p>
<p><strong>Complete beginners: learn R with swirl</strong><br />
To get started feeling more comfortable with R, I would recommend you give the "swirl" package a try. It is pretty fun and helps you start to grasp the basic R syntax. Use the install.packages command to install it.</p>
<p><code>install.packages ("swirl")</code></p>
<p>Then, you can use library() to call the swirl package, loading it into your workspace.</p>
<pre class="library(swirl)```"><code>
Loading a course in &quot;swirl&quot;
From here, the swirl package should mostly guide you the rest of the way. There are several modules you can complete. The R Programming course is a good start. You can see more about the swirl package here: https://github.com swirldev/swirl_courses#swirl-courses
```install_course(&quot;R Programming&quot;)```  
```swirl()```

:::


### Python

The examples assume the user has installed Python and pandas. The simplest way for inexperienced users to install Python and pandas is through Anaconda. For installation instructions, see here:  https://docs.continuum.io/free/anaconda/install/

For Mac, python is preinstalled. To run an example, open a terminal in the working directory (folder with input/output files in it) and call ```python``` to change the interpreter to Python.  Alternatively, the examples can be run from a developing environment such as Visual Studio code. Again, it is important to ensure the working directory (if relevant for the example) has been set up. However, most examples are designed to be relatively portable and work regardless of the working directory. 

## Known updates (discrepancies in book vs. software)

The software is under continual improvement, whereas the book is static. According to the NASEM-8 software &quot;help&quot; documentation, the latest software and R code contains the most correct and up-to-date version of the NASEM model. **To avoid confusion, our interactive textbook will use the NASEM model equations given in the software.**

### NASEM dairy-8 software updates and bugs

Since the software was released, several updates have been made. Users should ensure they have the latest version of NASEM-8 downloaded to avoid any errors. The errors below may be encountered with older versions:

1. With versions of NASEM-8 software downloaded prior to 2023.03.11, user-entered target milk production, milk protein production, and milk fat were silently overridden with predicted values. This resulted in NEL, urine energy, and other values reported incorrectly. This bug has been fixed by the developer in subsequent releases.
1. In certain cases, the NEL balance in the sidebar does not match the Word document output. 
1. In certain versions of the NASEM-8 software, manure volatile solids was overwritten by manure water in tabular output in Word.

### Differences between the book and software

The most recent software is more up-to-date than the equations in the Consensus Report book. Most discrepancies result in relatively small differences in predictions as a result of fine-tuning parameters. Known discrepancies between the book and software include:

1. The kg of CP in gravid uterus per kg of calf birth weight (CP_GrUtWt) differs from book p. 87. 
1. The kg gravid uterus weight per fetal birthweight (GrUterWt_FetBWbrth) differs from book p. 31.
1. The energy (Mcal/kg) fresh gravid uterus weight (NE_GrUtWt) at birth differs from book p. 31. 
1. The amount of CP (kg/kg) in fresh gravid uterus weight (CP_GrUtWt) differs from book p. 87. 
1. The coefficient for digestible energy in urinary nitrogen differs from the book (p. 32?).
1. Estimated manure output (Man_out) uses a different equation than those listed in the Environment chapter. 
1. The coefficient for NDF in the methane emission equation for heifers is positive in the book (p. 302), and negative in the software.
1. The intercept for the methane production of non-lactating dairy cows is positive in the book (p. 302; 14-1c) and negative in the software. Additionally, note that CF is crude fat, not crude fiber!
1. In the book (eq. 13-4, p. 304) the CP:N factor is listed as 0.638. It is 0.634 (6.34) in the software. The 6.34 factor is consistent with the Protein chapter. 

Other notes (not discrepant, but maybe helpful to know).
1. The book (eq. 6-13b, p. 87) gives an equation for the efficiency of AA use for non-pregnant animals. There is no corresponding equation for gestating animals in the book, but the software takes into account AA needs for gestation when appropriate. 
1. The book (eq. 6-4a) has a parentheses error. The end of the equation shows a calculation of total diet NDF intake as NDF/100 * DMI. The diet NDF intake should be multiplied by the entire equation preceding, not just the last term (1.51 * DMI). This is because the first part of the equation calculates the percentage of rumen-degradable NDF out of the diet NDF. 


## Contribute edits and suggestions

Interested in editing or adding to this interactive textbook? Please share your ideas with our team (merickson3@wisc.edu) so we can incorporate them and acknowledge you as a contributor. We could especially use suggested alternative text and activities to improve the accessibility of this resource. 


## License &amp; Citation Information

This work is licensed under a CC-BY-NC-SA license. This means you are free to use it for educational purposes or modify it, as long as you **cite the original work (see below)** and share your creation under a similar license. 

&lt;a rel=&quot;license&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot;&gt;&lt;img alt=&quot;Creative Commons License&quot; style=&quot;border-width:0&quot; src=&quot;https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png&quot; /&gt;&lt;/a&gt;&lt;br /&gt; See here for more information on the license &lt;a rel=&quot;license&quot; href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot;&gt;Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License&lt;/a&gt;.
https://creativecommons.org/licenses/by-nc-sa/4.0/


**Required Citations**

If you use this interactive textbook, please give credit by citing our work and the NASEM report. 

::: {.cit}

**Cite our interactive textbook:**

Erickson, M.G., Hanigan, M.D., and Wattiaux, M.A. (2023). Learning from the narrative and model in NASEM (2021) &quot;Nutrient Requirements of Dairy Cattle&quot;:  an interactive textbook. Version 1.0.0. Retrieved from https://merickson3.github.io/NASEM_pilot/

**Cite the consensus report:**

National Academies of Sciences, Engineering, and Medicine. (2021). Nutrient Requirements of Dairy Cattle: Eighth Revised Edition. Washington, DC: The National Academies Press. https://doi.org/10.17226/25806.

::: 

&lt;!--chapter:end:index.Rmd--&gt;

---
output:
  html_document: default
  pdf_document: default
  word_document: default
---


# Introduction to nutritional models

&lt;div class=&quot;figure&quot; style=&quot;text-align: center&quot;&gt;
&lt;img src=&quot;images/depictions_of_cattle.jpg&quot; alt=&quot;Cattle painted circa 7000 years ago in the Libyan Sahara (Sapienza University of Rome)&quot; width=&quot;2000&quot; /&gt;
&lt;p class=&quot;caption&quot;&gt;(\#fig:unnamed-chunk-5)Cattle painted circa 7000 years ago in the Libyan Sahara (Sapienza University of Rome)&lt;/p&gt;
&lt;/div&gt;

::: lo
**Learning Objectives**

1.  Explain the usefulness and history behind nutrient models.

2.  List and differentiate common dairy nutritional models.

3.  Describe how nutritional models are developed, step-by-step.

:::



## A brief history

Deliberate animal feeding began before recorded history with the advent of agriculture in Asia and Africa 12,000 years ago (Coffey, 2016). Since this time, humans have carefully considered how to manage forages, grains, minerals, and other natural resources to provide nourishment for domesticated animals. In regions throughout the world, traditional and indigenous knowledge systems contain a wealth of information on animal nutritional management, yet very little of it is recorded in publications and books.

Primarily in the last 200 years, animal nutrition developed as a scientific discipline. The use of scientific methods enabled researchers to isolate the chemical components of feeds and to quantitatively relate dietary intakes to physiological effects. As nutrition science progressed, nutritional diseases that had once harmed or killed thousands of animals (and people) began to be curable. The productivity of agricultural animals began to increase. As per the scientific method, advances were recorded with detailed publications in the scientific literature to enable cumulative progress.

In the United States, nutrition science was spurred by government efforts to reconstruct and reduce poverty after wars. In the aftermath of the Civil War and World Wars, the U.S. government chartered the National Academies of Sciences, Engineering, and Medicine (NASEM) and its subsidiary organization the National Research Council (NRC, Ullrey, 2001). NASEM is a non-governmental, non-profit organization of academics whose mission is to translate scientific information into domestic policy and practice. In animal nutrition, NASEM is famous for organizing efforts to consolidate nutritional science knowledge into animal feeding recommendations by publishing consensus reports.

The first edition of &quot;Nutrient Requirements of Dairy Cattle&quot; was published by the NRC (NASEM&#39;s subsidiary) in 1945. In the eight decades following, researchers created seven more editions of this consensus report. Each edition uses the most up-to-date research on dairy cattle nutrition generated by researchers at universities and government institutions.

::: {.green}

**Test yourself**

1. The 7th edition is the most recent version of the Nutrient Requirements of Dairy Cattle. &lt;select class=&#39;webex-select&#39;&gt;&lt;option value=&#39;blank&#39;&gt;&lt;/option&gt;&lt;option value=&#39;&#39;&gt;TRUE&lt;/option&gt;&lt;option value=&#39;answer&#39;&gt;FALSE&lt;/option&gt;&lt;/select&gt;
1. The National Academies publishes consensus reports for other species besides dairy cattle. &lt;select class=&#39;webex-select&#39;&gt;&lt;option value=&#39;blank&#39;&gt;&lt;/option&gt;&lt;option value=&#39;answer&#39;&gt;TRUE&lt;/option&gt;&lt;option value=&#39;&#39;&gt;FALSE&lt;/option&gt;&lt;/select&gt;

::: 


## Definition

::: green
**Test Yourself:** Before proceeding, we need to ask ourselves...what are nutritional models, and what do they have in common with the cave paintings shown at the beginning of the chapter?
:::

The cave painting of cattle is a two-dimensional representation of three-dimensional animals. It conveys some information about cattle and how they are shaped. Although we cannot know the intention of its artist(s), perhaps they meant to use the cave painting to communicate some information about cattle they had observed. The painting is a &quot;snapshot&quot; in time that summarizes and communicates about cattle.

A nutritional model (for example, the NASEM dairy model) is also a representation of cattle. Instead of a two-dimensional artwork, nutritional models are generally represented mathematically. The tens or hundreds of mathematical expressions that comprise a nutritional model are intended to summarize and communicate what we know about cattle nutrition. Similar to the painting, a model is a representation of reality.

## Usefulness

Models are mathematical and/or statistical descriptions of inputs, processes, and outputs. Nutritional models function as decision-support tools that can use known information (e.g., feed composition, animal characteristics) to predict how nutritional processes will unfold and what outcomes will result. They can be used to answer various types of questions.

**Scenario 1**

&gt; A dairy nutritionist has access to many different feedstuffs with known chemical composition. They have several different pens of animals to feed (e.g., calves, dry cows, lactating cows, high-producing lactating cows). How do they create diets for each pen of animals?

A nutritional model can help determine the requirements for each pen of animals. Additionally, the nutritional model can determine which feeds can be combined to create diets that meet the requirements.

**Scenario 2**

&gt; A group of dairy producers aims to reduce greenhouse gas emissions from their farm so they can reach carbon-neutral production goals. How can they select diets that contribute to their environmental goals?

A nutritional model could help these producers predict the environmental impact of their current production practices, or explore hypothetical alternative diets and scenarios.

**Scenario 3**

&gt; A dairy nutritionist has a suspicion that a group of cows is not producing as much milk fat as they could be, given the diet and animal characteristics. How does the nutritionist test their hypothesis?

A nutritional model can be used to benchmark production. Benchmarking means comparing the observed value against a reference value to evaluate its adequacy. In this case, the nutritionist could enter the diet and cow information to predict the expected milk fat production under these conditions. Then, they could compare this reference (expected) value to their observed value to benchmark.

**Scenario 4**

&gt; Feed costs for certain ingredients have changed, and a nutritionist wants to ensure they can meet animal needs and maintain performance at the least possible cost. How can they create a diet that minimizes feed costs?

A nutritional model can be used to optimize diets based on certain constraints. For example, least cost formulation is a common approach. It involves finding the combination of ingredients that will create a diet that meets animal requirements and costs the least amount.


## NASEM (2021) and other dairy nutrition models

NASEM  is one of several dairy cattle nutrition models. In most cases, models are intended to serve as decision support tools. In other words, the model estimates are intended to help dairy stakeholders, especially dairy farm managers, make more-informed decisions. The Cornell Net Protein and Carbohydrate System (CNCPS) is an alternative model upon which commercial ration formulation programs such as AMTS have been built. CNCPS also influence the development of The Large Ruminant Nutrition System (LRNS) by Texas A&amp;M researchers. In recent years, the importance of evaluating the environmental and economic impacts of dairy production have led to the development of models not just focused on the animal-level variables (as with NASEM), but instead integrating information about the entire farm system. These models, for example, the Ruminant Farm Systems (RuFaS) model, incorporate detailed information about local weather, soil characteristics, crop growth and storage, and prices of feedstuffs.

Some programs allow users to optimize the inclusion rate of selected diet ingredients (e.g., least cost ration formulation; AMTS program). In contrast, NASEM is designed to **evaluate** existing diets rather than **formulate** new diets that optimize user-defined parameters or meet user-defined constraints. Additionally, NASEM predicts selected environmental impacts at the individual animal, predominantly based on dietary factors. Thus, NASEM predictions of environmental impacts do not integrate farm system information to the same extent as other models, e.g., RuFaS.

::: grey
**Other ruminant diet evaluation models**

The Cornell Net Protein and Carbohydrate System (CNCPS) &lt;https://cals.cornell.edu/animal-science/outreach-extension/publications-resources-software/cncps&gt;

The Large Ruminant Nutrition System (LRNS) &lt;https://animalscience.tamu.edu/the-utility-of-applied-nutrition-models-a-brief-history-and-future-perspectives/&gt;

Ruminant Farm Systems (RuFaS) &lt;http://rufas.org&gt;
:::

::: {.green}

**Test Yourself**
The NASEM model is designed to &lt;select class=&#39;webex-select&#39;&gt;&lt;option value=&#39;blank&#39;&gt;&lt;/option&gt;&lt;option value=&#39;&#39;&gt;formulate new&lt;/option&gt;&lt;option value=&#39;answer&#39;&gt;evaluate existing&lt;/option&gt;&lt;/select&gt; diets. 

::: 

## Let&#39;s develop a simple nutritional model

Nutritional models are developed through scientific processes. To get a sense of how nutritional models work, let&#39;s go through a fictional example and develop our own (very simple!) nutritional model. We need to follow the following steps:

-   Hypothesis generation

-   Data collection (through observation and experimentation)

-   Model development

-   Model verification and generation of new hypotheses

-   ...repeat the process ad infinitum

### Hypothesis generation

Imagine that a researcher has some cattle in individual stalls. They ensure each cow has as much feed as she wants to consume (*ad libitum* feeding). Over time, the researcher starts to notice that the larger cattle seem to eat more. They write this observation into their notebook.

![](images/image-1025914244.png)

What the researcher has just done is the rough beginning of generating a hypothesis:

&gt; Larger cows seem to consume more feed than smaller cows.

After thinking about it some more, they can refine their hypothesis to make it more testable. For example, rather than &quot;larger cows&quot;, which is somewhat vague, they can be more specific and say &quot;greater bodyweight.&quot; Rather than saying &quot;eat more,&quot; they can say &quot;consume more dry matter on a daily basis.&quot; Now, we have a *testable* hypothesis:

&gt; In lactating cows, greater bodyweight is associated with greater dry matter intake on a daily basis.

By gathering empirical data, we can test this hypothesis. If we find evidence that this relationship is true, we can use it to build a nutritional model.

### Data collection through observation (or experimentation)

To learn more about the hypothesized relationship between body size and feed intake, the researcher decides to find a larger group of cattle to collect observational data. They collect two pieces of information in each observation: 1) the animal&#39;s body weight (BW), and 2) the animal&#39;s dry matter intake (DMI). They use the data to create a plot:

&lt;div class=&quot;figure&quot; style=&quot;text-align: center&quot;&gt;
&lt;img src=&quot;_main_files/figure-html/unnamed-chunk-6-1.png&quot; alt=&quot;DMI vs BW for 300 observations from lactating cows&quot; width=&quot;85%&quot; /&gt;
&lt;p class=&quot;caption&quot;&gt;(\#fig:unnamed-chunk-6)DMI vs BW for 300 observations from lactating cows&lt;/p&gt;
&lt;/div&gt;

::: green
**Think to Yourself:** What would you conclude from the plot?
:::

After looking at the plot, the researcher believes that it supports their hypothesis: DMI and BW are positively related. In other words, if an animal&#39;s BW is known, its DMI can be guessed with some accuracy. The researcher decides to convert this observed relationship to a mathematical model. Because the relationship seems to follow a line, they fit a regression with the linear form $y = mx + b$.

&lt;div class=&quot;figure&quot; style=&quot;text-align: center&quot;&gt;
&lt;img src=&quot;_main_files/figure-html/unnamed-chunk-7-1.png&quot; alt=&quot;Fitted regression model predicting DMI from BW for lactating cows&quot; width=&quot;85%&quot; /&gt;
&lt;p class=&quot;caption&quot;&gt;(\#fig:unnamed-chunk-7)Fitted regression model predicting DMI from BW for lactating cows&lt;/p&gt;
&lt;/div&gt;

### Model development

By fitting a regression model to the observed points, they get an estimate of the slope (0.03) that relates BW and DMI. In other words, the average DMI observed was 3% of the animal BW. This single mathematical expression is a very simple nutritional model: $DMI = 0.03 * BW$ 

We can think of our example model as an expression relating three **parameters**:

$DMI$ a predicted value

$0.03$ a coefficient relating DMI and BW

$BW$ a user input describing the animal

The researcher thinks the model will be useful for prediction. They decide to test the predictive performance of the model by buying a new lactating cow. They record the cow&#39;s BW as 625 kg.

![](images/image-1264450838.png)

&lt;div class=&quot;figure&quot; style=&quot;text-align: center&quot;&gt;
&lt;img src=&quot;_main_files/figure-html/unnamed-chunk-8-1.png&quot; alt=&quot;Fitted regression model predicting DMI from BW for lactating cows&quot; width=&quot;85%&quot; /&gt;
&lt;p class=&quot;caption&quot;&gt;(\#fig:unnamed-chunk-8)Fitted regression model predicting DMI from BW for lactating cows&lt;/p&gt;
&lt;/div&gt;

::: green
**Test Yourself:** Using our simple nutritional model, what is this cow&#39;s predicted DMI? 

&lt;input class=&#39;webex-solveme nospaces&#39; size=&#39;10&#39; data-answer=&#39;[&quot;18.75&quot;,&quot;18.75 kg&quot;,&quot;18.75 kgDM&quot;]&#39;/&gt;

:::

### Model verification

To predict the DMI of the new cow, the researcher enters the known information (cow&#39;s BW) into the nutritional model: $DMI = 0.03 * 625$. The model predicts the cow&#39;s DMI will be 18.75 kg. Tracing up from the x-axis, the intersection of the red dashed line with the blue line shows the predicted DMI for an animal with BW = 625.

Next, the researcher decides to verify their model by measuring the animal&#39;s actual DMI.

&lt;div class=&quot;figure&quot; style=&quot;text-align: center&quot;&gt;
&lt;img src=&quot;_main_files/figure-html/unnamed-chunk-9-1.png&quot; alt=&quot;Actual DMI for a new observation (red point) of a cow with BW = 625 kg&quot; width=&quot;85%&quot; /&gt;
&lt;p class=&quot;caption&quot;&gt;(\#fig:unnamed-chunk-9)Actual DMI for a new observation (red point) of a cow with BW = 625 kg&lt;/p&gt;
&lt;/div&gt;

Uh oh.... the actual DMI observed is shown with the large red point. It is greater than the prediction. This means that the model under-predicted the actual DMI for this cow based on her BW. This causes the researcher to go back to their original model, $DMI = 0.03 * BW$. The variable BW seems to explain some, but not all of the variation in DMI.

::: green
**Test Yourself:** What should the researcher do next?
:::

There are several courses of action to be considered. First, the researcher could leave the model as-is, and attribute the error in prediction to un-explainable variation. Un-explainable variation comes from unknown and un-measurable sources, including the intrinsic randomness of the universe. Second, the researcher could try to gather more information to find other measurable predictors of DMI besides BW. Then, they could revise the nutritional model to include other variables that determine the DMI.


### Model refinement (re-starting the process)

Generally, scientists take the second option. In our example, the researcher might go back to their notebook and consider... what other factors could be affecting DMI aside from BW? Eventually, they would develop a new hypothesis, for example: younger, first-lactation animals will consume less than more mature animals with two or more lactations. They plot the data again, including information about the animals&#39; parity:



&lt;div class=&quot;figure&quot; style=&quot;text-align: center&quot;&gt;
&lt;img src=&quot;_main_files/figure-html/unnamed-chunk-11-1.png&quot; alt=&quot;DMI vs BW for 300 observations from lactating cows, by parity&quot; width=&quot;85%&quot; /&gt;
&lt;p class=&quot;caption&quot;&gt;(\#fig:unnamed-chunk-11)DMI vs BW for 300 observations from lactating cows, by parity&lt;/p&gt;
&lt;/div&gt;

It appears there is some variation explained by parity. In this way, the researcher can update the model to include other parameters, e.g., $DMI = 0.03 * BW + ParityEffect$. Our example model now includes four parameters:

$DMI$ a predicted value

$0.03$ a coefficient relating DMI and BW

$BW$ a user input describing the animal

$ParityEffect$ a parameter that adjusts the intercept up for multiparous, and down for primiparous cows.

When it comes to updating our model from here, the possibilities are almost limitless. Parameters can refer to any part of the animal system: the model inputs, intermediates, outputs, and relationships among these quantities. Almost anything we can measure in animal nutrition (an amount, a rate, a status) can be thought of as a parameter. As we can see from the example, parameters are not always numeric. Inputs such as $Parity = multiparous, primiparous$, $Breed = Holstein$, and $Life\space Stage = Calf$ are categories rather than numbers. As we&#39;ll see in later chapters, nutritional models can accommodate many different types of information (e.g, numerical, categorical), various types of relationships between parameters (e.g., additive, interactive), using many types of mathematical expressions (e.g., linear, non-linear). 

### Reflecting on our example model

Congratulations - you created and used your first nutritional model! 🎉

Just like the two-dimensional cow paintings at the beginning, our simple nutritional model conveyed some information about cattle. Instead of a painting, we used a mathematical expression to communicate it. We showed how a researcher could use empirical observations (data collection) to create a model expression,  check it against new data, and refine the model. 

## Scaling up and adding complexity

::: {.green}

How do we get from our simple example model, to a huge and complex model like NASEM?

::: 

In our example, one researcher was working alone. In actuality, thousands of animal nutritionists and researchers contribute to developing nutritional models such as NASEM (2021). Many researchers have a specific focus area (e.g., fatty acid nutrition, rumen function) and dedicate their efforts to improving methods and collecting data for this specific topic area. An individual researcher can only collect a limited amount of data on a few parameters. Still, when thousands of researchers publish their findings, these models and data can be aggregated into larger models. In fact, some researchers (&quot;modelers&quot;) specialize in aggregating and modeling data collected by other scientists!

The NASEM model is a conglomeration of many smaller
models (sometimes called **sub-models**) into one larger model. The entire NASEM model is massive:  it represents all nutrients and energy for all nutritional processes. It contains hundreds of parameters, related by many types of mathematical expressions. In contrast, any given piece (a sub-model) of the NASEM model is simpler. A sub-model could represent only one nutrient (e.g., protein) or a
specific process (e.g., ruminal degradation). Many of the sub-models can be further divided into smaller sub-models. Each of these tiny pieces of the NASEM model was created and refined through scientific processes similar to our example model. Modelers worked to connect together these tiny sub-models to create the much larger NASEM model. 


::: green
**Test yourself**  A NASEM sub-model is someone else&#39;s duplicate of
the original model. &lt;select class=&#39;webex-select&#39;&gt;&lt;option value=&#39;blank&#39;&gt;&lt;/option&gt;&lt;option value=&#39;&#39;&gt;TRUE&lt;/option&gt;&lt;option value=&#39;answer&#39;&gt;FALSE&lt;/option&gt;&lt;/select&gt;
:::

## Conclusion

Nutritional models serve practical goals:  they can make animal feeding practices more economical, more environmentally-sound, and more aligned with human needs and available resources. Nutritional models are developed through scientific processes. They use mathematical expressions to represent information about how nutritional processes work. Nutritional models can appear quite complex, but it&#39;s important to remember that they are the collective effort of many people, across long periods of time, as documented in the scientific literature.  


## R code for figures

R code used for this chapter is given below.


```r
# Set the seed for reproducibility
set.seed(765)

# Load required packages
library(dplyr)
library(magrittr)
library(ggplot2)

# Set the ggplot2 theme
theme_set(theme_bw())

# Generate data
res &lt;- rnorm(300, 0, sd = 3) # generate normally distributed residuals
bw &lt;- rnorm(300, 600, sd = 40) # generate normally distributed body weights
parity &lt;- rep(c(1, 7), 150) # generate parity effect using integers
dmi &lt;- 0.03 * bw + parity + res # create dry matter intake (DMI) as a function of observed and residual

# Create a data frame with the generated data ,create parity values
df &lt;- data.frame(DMI = dmi, BW = bw, Parity = parity) %&gt;%
  mutate(
    Parity = ifelse(
      Parity == 1,
      &quot;Primiparous (first calf)&quot;,
      &quot;Multiparous (2+ calves)&quot;
    )
  )

# Create a scatterplot of BW and DMI
p &lt;- ggplot(df, aes(x = BW, y = DMI)) +
  geom_point() +
  labs(x = &quot;BW, kg&quot;, y = &quot;DMI, kg/d&quot;)

p + theme_bw()

# Add a linear regression line to the scatterplot and label the equation
p + geom_smooth(method = &quot;lm&quot;, se = F) +
  annotate(
    geom = &quot;text&quot;,
    x = 540,
    y = 35,
    label = &quot;DMI = 0.03*BW&quot;,
    color = &quot;blue&quot;,
    size = 5
  ) + theme_bw() +
  labs(x = &quot;BW, kg&quot;, y = &quot;DMI, kg/d&quot;)

# Create a scatterplot of BW and DMI, with an additional vertical red dashed line

p2 &lt;- ggplot(df, aes(x = BW, y = DMI)) +
  geom_point(color = &quot;grey&quot;) +
  geom_smooth(method = &quot;lm&quot;, se = F) +
  annotate(
    geom = &quot;text&quot;,
    x = 540,
    y = 35,
    label = &quot;DMI = 0.03*BW&quot;,
    color = &quot;blue&quot;,
    size = 5
  ) +
  annotate(
    geom = &quot;segment&quot;,
    x = 625,
    xend = 625,
    y = -Inf,
    yend = Inf,
    color = &quot;red&quot;,
    lty = &quot;dashed&quot;
  ) +
  theme_bw() +
  labs(x = &quot;BW, kg&quot;, y = &quot;DMI, kg/d&quot;)

p2

# Add a red point to the scatterplot
p2.1 &lt;- p2 + annotate(
  geom = &quot;point&quot;,
  x = 625,
  y = 25,
  size = 4,
  color = &quot;red&quot;
) + theme_bw()

p2.1

# Create a scatterplot of BW and DMI, with color based on parity, and label the linear regression lines
p &lt;- ggplot(df, aes(x = BW, y = DMI, color = Parity)) +
  geom_point() +
  theme_bw() +
  theme(legend.position = &quot;bottom&quot;)

p + geom_smooth(method = &quot;lm&quot;, se = F) +
  annotate(
    geom = &quot;text&quot;,
    x = 555,
    y = 35,
    label = &quot;DMI = 0.03*BW + (multiparous effect)&quot;,
    color = &quot;#F8766D&quot;,
    size = 5
  ) +
  annotate(
    geom = &quot;text&quot;,
    x = 555,
    y = 32,
    label = &quot;DMI = 0.03*BW + (primiparous effect)&quot;,
    color = &quot;#00BFC4&quot;,
    size = 5
  ) +
  labs(x = &quot;BW, kg&quot;, y = &quot;DMI, kg/d&quot;)</code></pre>

</div>
</div>
</div>
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;
    
    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");
  
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");
  
  var cl = this.classList
  
  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;
  
  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }
  
  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

window.onload = function() {
  console.log("onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }
  
  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }
  
  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
  }

  update_total_correct();
}

</script>
            </section>

          </div>
        </div>
      </div>

<a href="systems-concepts.html" class="navigation navigation-next navigation-unique" aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "section"
},
"highlight": "espresso",
"toolbar": {
"position": "fixed"
},
"info": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
